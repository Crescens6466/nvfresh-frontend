<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NvFresh â€“ Orders</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- âœ… ADMIN NAVBAR -->
<header class="admin-navbar">
  <div class="admin-brand">ğŸ§‘â€ğŸ’¼ NvFresh Admin</div>

  <nav class="admin-nav-links">
    <a href="products.html">ğŸ“¦ Products</a>
    <a href="orders.html">ğŸ§¾ Orders</a>
    <a href="login.html" id="adminLoginBtn">ğŸ” Login</a>
    <a href="#" id="adminLogoutBtn" style="display:none;" onclick="adminLogout()">ğŸšª Logout</a>
  </nav>
</header>

<!-- âœ… PAGE TITLE -->
<h2 style="margin:20px">ğŸ“¦ Customer Orders</h2>

<table border="1" width="95%" align="center">
  <thead>
    <tr>
      <th>Customer</th>
      <th>Phone</th>
      <th>Items</th>
      <th>Total</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody id="ordersTable"></tbody>
</table>

<script src="orders.js"></script>

<script>
async function checkAdmin() {
  const res = await fetch("/api/admin/me", { credentials: "include" });
  if (res.ok) {
    document.getElementById("adminLoginBtn").style.display = "none";
    document.getElementById("adminLogoutBtn").style.display = "inline";
  }
}

async function adminLogout() {
  await fetch("/api/admin/logout", {
    method: "POST",
    credentials: "include"
  });
  window.location.href = "login.html";
}

checkAdmin();
</script>

</body>
</html>
